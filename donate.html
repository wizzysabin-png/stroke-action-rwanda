<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://js.paystack.co/v2/inline.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate | Stroke Action Rwanda</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- SHARED CORE THEME --- */
        :root {
            --primary-green: #1B391B; 
            --accent-yellow: #F2D022; 
            --soft-bg: #F8FAF8;
            --white: #ffffff;
            --text-dark: #1A1A1A;
            --text-muted: #555555;
            --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Open Sans', sans-serif; color: var(--text-dark); line-height: 1.8; background-color: var(--white); }
        h1, h2, h3, h4 { font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--primary-green); }
        .container { max-width: 1240px; margin: 0 auto; padding: 0 30px; }
        .section-padding { padding: 80px 0; }
        
        /* --- SHARED NAVIGATION --- */
        header { background: var(--primary-green); padding: 20px 0; position: fixed; width: 100%; top: 0; z-index: 2000; }
        nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.2rem; font-weight: 800; color: var(--white); text-transform: uppercase; text-decoration: none; }
        .nav-links { display: flex; gap: 30px; align-items: center; }
        .nav-links a { color: var(--white); text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: 0.3s; }
        .nav-links a:hover { color: var(--accent-yellow); }
        .btn-yellow { background: var(--accent-yellow); color: var(--primary-green); padding: 12px 25px; border-radius: 6px; font-weight: 700; text-decoration: none; display: inline-block; border: none; cursor: pointer; }
        .menu-toggle { display: none; color: white; font-size: 1.5rem; cursor: pointer; }

        /* --- DONATE PAGE SPECIFIC STYLES --- */
        .page-header { 
            background: linear-gradient(rgba(27, 57, 27, 0.8), rgba(27, 57, 27, 0.8)), url('https://placehold.co/1200x500/1B391B/white?text=Support+Our+Mission');
            background-size: cover;
            background-position: center;
            padding: 160px 0 100px;
            color: white;
            text-align: center;
        }
        .page-header h1 { color: var(--accent-yellow); font-size: clamp(2.5rem, 5vw, 3.5rem); margin-bottom: 20px; }

        .donate-flex { display: flex; gap: 60px; flex-wrap: wrap; margin-top: 40px; }
        .donate-info { flex: 1; min-width: 320px; }
        .donate-form-container { flex: 1; min-width: 320px; background: var(--soft-bg); padding: 40px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.05); border: 1px solid #eee; }

        /* Process Steps */
        .process-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; margin: 60px 0; }
        .step-card { text-align: center; position: relative; }
        .step-number { width: 50px; height: 50px; background: var(--primary-green); color: var(--accent-yellow); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: 800; margin: 0 auto 20px; }
        
        /* Donation Form Elements */
        .amount-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 25px; }
        .amount-btn { padding: 15px; border: 2px solid var(--primary-green); border-radius: 8px; background: white; font-weight: 700; cursor: pointer; transition: 0.3s; }
        .amount-btn:hover, .amount-btn.active { background: var(--primary-green); color: white; }
        
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 0.9rem; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-family: inherit; }

        .impact-list { list-style: none; margin-top: 30px; }
        .impact-list li { margin-bottom: 15px; padding-left: 30px; position: relative; }
        .impact-list li::before { content: '✓'; position: absolute; left: 0; color: var(--primary-green); font-weight: 900; }

        /* --- RESPONSIVENESS --- */
        @media (max-width: 1024px) {
            .menu-toggle { display: block; }
            .nav-links { display: none; flex-direction: column; position: absolute; top: 100%; left: 0; width: 100%; background: var(--primary-green); padding: 20px; }
            .nav-links.active { display: flex; }
        }
    </style>
</head>
<body>

    <header>
        <div class="container">
            <nav>
               <a href="index.html" class="logo"><img src="photo/logo.jpeg" alt="Logo" style="height: 40px; vertical-align: middle; margin-right: 10px;">Stroke Action Rwanda</a>
                <div class="menu-toggle" onclick="toggleMenu()">☰</div>
                <div class="nav-links" id="navLinks">
                    <a href="index.html">Home</a>
                    <a href="about.html">About Us</a>
                    <a href="prevention.html">Prevention</a>
                    <a href="support.html">Support</a>
                    <a href="stories.html">Stories</a>
                    <a href="donate.html" style="color: var(--accent-yellow);">Donate</a>
                </div>
            </nav>
        </div>
    </header>

    <section class="page-header">
        <div class="container">
            <h1>Your Support Saves Lives</h1>
            <p style="max-width: 800px; margin: 0 auto; font-size: 1.2rem; color: rgba(255,255,255,0.9);">
                Stroke is a leading cause of disability and death. Your donation helps fund vital prevention programs and recovery initiatives in Rwanda.
            </p>
        </div>
    </section>

    <section class="section-padding">
        <div class="container">
            <div class="donate-flex">
                <div class="donate-info">
                    <h2>Why Your Contribution Matters</h2>
                    <p>Every donation, no matter the size, makes a direct impact on our ability to reach underserved communities and provide life-saving education.</p>
                    
                    <ul class="impact-list">
                        <li><strong>Prevention:</strong> Funding national awareness campaigns on stroke warning signs.</li>
                        <li><strong>Education:</strong> Training health professionals in rural clinics.</li>
                        <li><strong>Recovery:</strong> Providing rehabilitation resources for stroke survivors.</li>
                        <li><strong>Support:</strong> Developing guides and groups for family caregivers.</li>
                    </ul>

                    <div style="background: var(--primary-green); color: white; padding: 30px; border-radius: 15px; margin-top: 40px;">
                        <h4 style="color: var(--accent-yellow); margin-bottom: 10px;">Trust & Privacy</h4>
                        <p style="font-size: 0.9rem; opacity: 0.9;">All donations are handled securely through encrypted payment gateways. Your personal information is kept strictly confidential.</p>
                    </div>
                </div>
<div class="donate-form-container" id="donationStepper">
    <div class="step-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 id="stepTitle">Select Amount</h3>
        <span id="stepIndicator" style="font-size: 0.8rem; font-weight: 700; color: var(--primary-green);">Step 1 of 4</span>
    </div>

    <form id="multiStepForm">
        <div class="form-step" id="step1">
            <div class="amount-grid">
                <button type="button" class="amount-btn" onclick="setAmount(15000)">15,000 RF</button>
                <button type="button" class="amount-btn active" onclick="setAmount(35000)">35,000 RF</button>
                <button type="button" class="amount-btn" onclick="setAmount(90000)">90,000 RF</button>
            </div>
            <div class="form-group">
                <label>Custom Amount (RWF)</label>
                <input type="number" id="customAmount" placeholder="Enter amount" value="35000">
            </div>
            <button type="button" class="btn-yellow" style="width: 100%;" onclick="nextStep(2)">Continue</button>
        </div>

        <div class="form-step" id="step2" style="display: none;">
            <div class="form-group">
                <input type="text" id="firstName" placeholder="First Name" required style="margin-bottom: 10px;">
                <input type="text" id="lastName" placeholder="Last Name" required>
            </div>
            <div class="form-group">
                <input type="email" id="donorEmail" placeholder="Email Address" required>
            </div>
            <div class="form-group">
                <input type="tel" id="donorPhone" placeholder="+250 789 000 000">
            </div>
            <button type="button" class="btn-yellow" style="width: 100%;" onclick="nextStep(3)">Continue</button>
            <p onclick="nextStep(1)" style="text-align: center; cursor: pointer; font-size: 0.8rem; margin-top: 15px;">← Back</p>
        </div>

        <div class="form-step" id="step3" style="display: none;">
            <div class="form-group">
                <input type="text" placeholder="Street Address" style="margin-bottom: 10px;">
                <input type="text" placeholder="Town or City" style="margin-bottom: 10px;">
                <div style="display: flex; gap: 10px;">
                    <input type="text" placeholder="State/Kigali">
                    <input type="text" placeholder="Zip Code">
                </div>
            </div>
            <button type="button" class="btn-yellow" style="width: 100%;" onclick="nextStep(4)">Continue</button>
            <p onclick="nextStep(2)" style="text-align: center; cursor: pointer; font-size: 0.8rem; margin-top: 15px;">← Back</p>
        </div>

        <div class="form-step" id="step4" style="display: none;">
    <div class="form-group" style="background: white; padding: 20px; border-radius: 10px; border: 1px solid #ddd;">
        <label>Summary</label>
        <p style="font-size: 0.9rem; color: var(--text-muted);">You are about to donate using our secure partner, Flutterwave. You can pay via <strong>Mobile Money, Card, or Google Pay</strong> in the next window.</p>
    </div>
    
    <div style="display: flex; justify-content: space-between; font-weight: 700; margin: 20px 0; font-size: 1.2rem;">
        <span>Total:</span>
        <span id="finalAmountDisplay" style="color: var(--primary-green);">35,000 RWF</span>
    </div>

    <button type="button" class="btn-yellow" style="width: 100%;" onclick="finishPayment()">Confirm & Pay Now</button>
    <p onclick="nextStep(3)" style="text-align: center; cursor: pointer; font-size: 0.8rem; margin-top: 15px;">← Back to Address</p>
</div>
    </form>
</div>

                   

            <div style="margin-top: 100px;">
                <h2 style="text-align: center;">How the Process Works</h2>
                <div class="process-grid">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <h4>Choose Amount</h4>
                        <p style="font-size: 0.85rem;">Select how much you wish to contribute to our mission.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">2</div>
                        <h4>Details</h4>
                        <p style="font-size: 0.85rem;">Provide your information for the receipt and impact updates.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">3</div>
                        <h4>Secure Payment</h4>
                        <p style="font-size: 0.85rem;">Complete the transaction via our secure payment partners.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">4</div>
                        <h4>Impact</h4>
                        <p style="font-size: 0.85rem;">Receive a confirmation and see how your funds are used.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer style="background: var(--primary-green); color: white; padding: 60px 0; text-align: center;">
        <div class="container">
            <p>&copy; 2026 Stroke Action Rwanda. All rights reserved.</p>
            <p style="font-size: 0.8rem; margin-top: 10px; opacity: 0.6;">Registered Non-Profit Organization in Rwanda</p>
        </div>
    </footer>

    <script>
let currentStep = 1;

function setAmount(val) {
    document.getElementById('customAmount').value = val;
    // Update button visual state
    document.querySelectorAll('.amount-btn').forEach(btn => {
        btn.classList.remove('active');
        // Match value with button text
        if(btn.innerText.includes(val.toLocaleString())) btn.classList.add('active');
    });
}

function nextStep(step) {
    // Basic Validation for Step 2
    if (step === 3) {
        const email = document.getElementById('donorEmail').value;
        const name = document.getElementById('firstName').value;
        if (!email || !name) {
            alert("Please provide your name and email to continue.");
            return;
        }
    }

    // Hide all steps
    document.querySelectorAll('.form-step').forEach(div => div.style.display = 'none');
    
    // Show target step
    document.getElementById('step' + step).style.display = 'block';
    
    // Update UI
    currentStep = step;
    document.getElementById('stepIndicator').innerText = `Step ${step} of 4`;
    
    const titles = ["Select Amount", "Enter Details", "Your Address", "Review & Pay"];
    document.getElementById('stepTitle').innerText = titles[step-1];

    if(step === 4) {
        let amt = document.getElementById('customAmount').value;
        document.getElementById('finalAmountDisplay').innerText = Number(amt).toLocaleString() + " RWF";
    }
}

function finishPayment() {
    const donorAmount = document.getElementById('customAmount').value;
    const donorEmail = document.getElementById('donorEmail').value;
    const donorFirstName = document.getElementById('firstName').value;
    const donorLastName = document.getElementById('lastName').value;
    const donorPhone = document.getElementById('donorPhone').value;

    const payBtn = document.querySelector('#step4 .btn-yellow');
    payBtn.innerText = "Opening Secure Portal...";
    payBtn.disabled = true;

    const paystack = new PaystackPop();
    paystack.newTransaction({
        // REPLACE THIS with your "Live Public Key" from Paystack Settings
        key: 'pk_test_1e6e937a81405759bf6e7292c68375eae46ebc7a', 
        
        email: donorEmail,
        amount: donorAmount * 100, // Paystack counts in subunits (100 = 1 RWF)
        currency: "RWF",
        ref: "SAR-" + Math.floor((Math.random() * 1000000000) + 1), // Unique ID
        
        onSuccess: (transaction) => {
            // Redirect to your thank you page
            window.location.href = "thank-you.html?ref=" + transaction.reference;
        },
        onCancel: () => {
            alert("Payment cancelled. Your support is still needed whenever you're ready!");
            payBtn.innerText = "Confirm & Pay Now";
            payBtn.disabled = false;
        },
        // Metadata allows you to see the donor's name in your Paystack Dashboard
        metadata: {
            custom_fields: [
                {
                    display_name: "Donor Name",
                    variable_name: "donor_name",
                    value: donorFirstName + " " + donorLastName
                },
                {
                    display_name: "Phone Number",
                    variable_name: "phone_number",
                    value: donorPhone
                }
            ]
        }
    });
}
 function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('active');
        }
    </script>
</body>

</html>

